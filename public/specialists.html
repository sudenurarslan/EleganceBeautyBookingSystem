<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GÃ¼zellik UzmanlarÄ± YÃ¶netimi - Admin Panel</title>
    <link rel="stylesheet" href="css/specialists.css"> 

</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <a href="index.html">
                    <h1>Elegance <span>Beauty</span> - Admin</h1>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Ana Sayfa</a></li>
                    <li><a href="#" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="main-content">
        <div class="page-title">
            <h2>GÃ¼zellik UzmanlarÄ± YÃ¶netimi</h2>
            <p>Salonunuzda Ã§alÄ±ÅŸan uzmanlarÄ±n bilgilerini ve fotoÄŸraflarÄ±nÄ± yÃ¶netin.</p>
        </div>

        <div class="admin-container">
            <div class="current-specialists">
                <h3>Mevcut Uzmanlar</h3>
                <div class="specialists-grid" id="specialists-grid">
                   
                    <div class="specialist-admin-card" data-id="1">
                        <div class="specialist-photo-section" style="background-image: url('https://images.unsplash.com/photo-1594824406797-feb1210cc9b4?w=300&h=400&fit=crop&crop=face')">
                            <div class="photo-upload-overlay" onclick="uploadPhoto(1)">
                                <div class="photo-upload-text">
                                    <div>ðŸ“·</div>
                                    <div>FotoÄŸraf DeÄŸiÅŸtir</div>
                                </div>
                            </div>
                        </div>
                        <div class="specialist-form">
                            <div class="form-group">
                                <label for="name-1">Ad Soyad</label>
                                <input type="text" id="name-1" value="Ezgi Aynal">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="title-1">Unvan</label>
                                    <input type="text" id="title-1" value="KÄ±demli GÃ¼zellik UzmanÄ±">
                                </div>
                                <div class="form-group">
                                    <label for="experience-1">Deneyim (YÄ±l)</label>
                                    <input type="number" id="experience-1" value="8" min="0">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="specialization-1">UzmanlÄ±k AlanÄ±</label>
                                <input type="text" id="specialization-1" value="TÄ±rnak bakÄ±mÄ± ve nail art">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="rating-1">DeÄŸerlendirme</label>
                                    <div class="rating-input">
                                        <input type="number" id="rating-1" value="4.9" min="0" max="5" step="0.1">
                                        <span>/ 5.0</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="status-1">Durum</label>
                                    <select id="status-1">
                                        <option value="active" selected>Aktif</option>
                                        <option value="inactive">Pasif</option>
                                        <option value="vacation">Ä°zinli</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bio-1">KÄ±sa AÃ§Ä±klama</label>
                                <textarea id="bio-1" placeholder="Uzman hakkÄ±nda kÄ±sa bilgi...">8 yÄ±llÄ±k deneyimi ile tÄ±rnak bakÄ±mÄ± ve nail art konularÄ±nda uzman. MÃ¼ÅŸteri memnuniyetini Ã¶n planda tutar.</textarea>
                            </div>
                            <button class="btn" onclick="updateSpecialist(1)">Bilgileri GÃ¼ncelle</button>
                            <button class="btn btn-danger" onclick="deleteSpecialist(1)" style="margin-top: 0.5rem;">UzmanÄ± Sil</button>
                        </div>
                    </div>

                    
                    <div class="specialist-admin-card" data-id="2">
                        <div class="specialist-photo-section" style="background-image: url('https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=400&fit=crop&crop=face')">
                            <div class="photo-upload-overlay" onclick="uploadPhoto(2)">
                                <div class="photo-upload-text">
                                    <div>ðŸ“·</div>
                                    <div>FotoÄŸraf DeÄŸiÅŸtir</div>
                                </div>
                            </div>
                        </div>
                        <div class="specialist-form">
                            <div class="form-group">
                                <label for="name-2">Ad Soyad</label>
                                <input type="text" id="name-2" value="Sude Tuncu">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="title-2">Unvan</label>
                                    <input type="text" id="title-2" value="Cilt BakÄ±m UzmanÄ±">
                                </div>
                                <div class="form-group">
                                    <label for="experience-2">Deneyim (YÄ±l)</label>
                                    <input type="number" id="experience-2" value="6" min="0">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="specialization-2">UzmanlÄ±k AlanÄ±</label>
                                <input type="text" id="specialization-2" value="Anti-aging ve cilt sorunlarÄ±">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="rating-2">DeÄŸerlendirme</label>
                                    <div class="rating-input">
                                        <input type="number" id="rating-2" value="4.8" min="0" max="5" step="0.1">
                                        <span>/ 5.0</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="status-2">Durum</label>
                                    <select id="status-2">
                                        <option value="active" selected>Aktif</option>
                                        <option value="inactive">Pasif</option>
                                        <option value="vacation">Ä°zinli</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bio-2">KÄ±sa AÃ§Ä±klama</label>
                                <textarea id="bio-2" placeholder="Uzman hakkÄ±nda kÄ±sa bilgi...">6 yÄ±ldÄ±r cilt bakÄ±mÄ± alanÄ±nda hizmet veriyor. Anti-aging ve cilt sorunlarÄ±na Ã¶zel Ã§Ã¶zÃ¼mler sunar.</textarea>
                            </div>
                            <button class="btn" onclick="updateSpecialist(2)">Bilgileri GÃ¼ncelle</button>
                            <button class="btn btn-danger" onclick="deleteSpecialist(2)" style="margin-top: 0.5rem;">UzmanÄ± Sil</button>
                        </div>
                    </div>

                   
                    <div class="specialist-admin-card" data-id="3">
                        <div class="specialist-photo-section" style="background-image: url('https://images.unsplash.com/photo-1607990281513-2c110a25bd8c?w=300&h=400&fit=crop&crop=face')">
                            <div class="photo-upload-overlay" onclick="uploadPhoto(3)">
                                <div class="photo-upload-text">
                                    <div>ðŸ“·</div>
                                    <div>FotoÄŸraf DeÄŸiÅŸtir</div>
                                </div>
                            </div>
                        </div>
                        <div class="specialist-form">
                            <div class="form-group">
                                <label for="name-3">Ad Soyad</label>
                                <input type="text" id="name-3" value="Sudenur Arslan">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="title-3">Unvan</label>
                                    <input type="text" id="title-3" value="SaÃ§ Stylist">
                                </div>
                                <div class="form-group">
                                    <label for="experience-3">Deneyim (YÄ±l)</label>
                                    <input type="number" id="experience-3" value="5" min="0">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="specialization-3">UzmanlÄ±k AlanÄ±</label>
                                <input type="text" id="specialization-3" value="SaÃ§ kesim, boya ve Ã¶zel gÃ¼n makyajÄ±">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="rating-3">DeÄŸerlendirme</label>
                                    <div class="rating-input">
                                        <input type="number" id="rating-3" value="4.7" min="0" max="5" step="0.1">
                                        <span>/ 5.0</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="status-3">Durum</label>
                                    <select id="status-3">
                                        <option value="active" selected>Aktif</option>
                                        <option value="inactive">Pasif</option>
                                        <option value="vacation">Ä°zinli</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bio-3">KÄ±sa AÃ§Ä±klama</label>
                                <textarea id="bio-3" placeholder="Uzman hakkÄ±nda kÄ±sa bilgi...">5 yÄ±llÄ±k deneyimi ile saÃ§ bakÄ±mÄ± ve ÅŸekillendirme konularÄ±nda uzman. Ã–zel gÃ¼nler iÃ§in makyaj hizmetleri de sunmaktadÄ±r.</textarea>
                            </div>
                            <button class="btn" onclick="updateSpecialist(3)">Bilgileri GÃ¼ncelle</button>
                            <button class="btn btn-danger" onclick="deleteSpecialist(3)" style="margin-top: 0.5rem;">UzmanÄ± Sil</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="add-new-specialist">
                <h3>Yeni Uzman Ekle</h3>
                <form id="add-specialist-form" onsubmit="addNewSpecialist(event)">
                    <div class="form-group">
                        <label for="new-photo">FotoÄŸraf</label>
                        <div class="file-upload">
                            <input type="file" id="new-photo" accept="image/*" onchange="previewNewPhoto(event)">
                            <label for="new-photo" class="file-upload-label" id="photo-label">
                                ðŸ“· FotoÄŸraf SeÃ§
                            </label>
                        </div>
                        <div id="photo-preview" style="margin-top: 1rem; display: none;">
                            <img id="preview-image" style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%;">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-name">Ad Soyad</label>
                        <input type="text" id="new-name" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="new-title">Unvan</label>
                            <input type="text" id="new-title" required>
                        </div>
                        <div class="form-group">
                            <label for="new-experience">Deneyim (YÄ±l)</label>
                            <input type="number" id="new-experience" min="0" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-specialization">UzmanlÄ±k AlanÄ±</label>
                        <input type="text" id="new-specialization" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="new-rating">DeÄŸerlendirme</label>
                            <div class="rating-input">
                                <input type="number" id="new-rating" min="0" max="5" step="0.1" value="5.0" required>
                                <span>/ 5.0</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="new-status">Durum</label>
                            <select id="new-status" required>
                                <option value="active" selected>Aktif</option>
                                <option value="inactive">Pasif</option>
                                <option value="vacation">Ä°zinli</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-bio">KÄ±sa AÃ§Ä±klama</label>
                        <textarea id="new-bio" placeholder="Uzman hakkÄ±nda kÄ±sa bilgi..." required></textarea>
                    </div>
                    
                    <button type="submit" class="btn">Uzman Ekle</button>
                </form>
            </div>
        </div>
    </div>

   
    <input type="file" id="photo-upload-input" accept="image/*" style="display: none;" onchange="handlePhotoUpload(event)">

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Elegance Beauty Salon - Admin Panel. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", async () => {
          const container = document.getElementById("specialists-grid");
        
          try {
            const res = await fetch("/api/specialists");
            const data = await res.json();
        
            container.innerHTML = "";
        
            if (data.length === 0) {
              container.innerHTML = "<p>Uzman bulunamadÄ±.</p>";
              return;
            }
        
            data.forEach(sp => {
              const card = document.createElement("div");
              card.classList.add("specialist-admin-card");
        
              card.innerHTML = `
                <div class="specialist-photo-section" style="background-color:#ddd;">
                  <div class="photo-upload-overlay">
                    <div class="photo-upload-text">ðŸ“· FotoÄŸraf</div>
                  </div>
                </div>
                <div class="specialist-form">
                  <div class="form-group">
                    <label>Ad Soyad</label>
                    <input type="text" value="${sp.name}">
                  </div>
                  <div class="form-group">
                    <label>Unvan</label>
                    <input type="text" value="${sp.title || ''}">
                  </div>
                  <div class="form-group">
                    <label>DeÄŸerlendirme</label>
                    <input type="number" value="${sp.rating || 5}" min="0" max="5" step="0.1">
                  </div>
                  <button class="btn">Bilgileri Kaydet</button>
                </div>
              `;
        
              container.appendChild(card);
            });
          } catch (error) {
            console.error("Uzmanlar yÃ¼klenemedi:", error);
            container.innerHTML = "<p>Uzmanlar yÃ¼klenemedi.</p>";
          }
        });
        </script>
        
</body>
</html>